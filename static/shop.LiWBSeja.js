import{f as y,o as p,c as _,F as I,r as N,a as s,t as d,h as S,i as v,j as B,s as k,k as j,l as e,n as P,g as T,b as h,w as q,d as D,p as V,e as E}from"./entry.CniZEVlq.js";import{_ as x}from"./_plugin-vue_export-helper.DlAUqK2U.js";import{m as L,a as Q,u as F,S as b,V as w}from"./VBtn.BMkhGuoQ.js";import{V as R}from"./VIcon.DLCGhDG8.js";const U={class:"side-bar-container flex h-full w-full flex-col items-center justify-center gap-16"},z=y({__name:"sideBar",setup(u){const t=["小農水果系列","植宇宙周邊系列"];return(n,c)=>(p(),_("div",U,[(p(),_(I,null,N(t,o=>s("button",{key:o,class:"side-bar-btn w-8/12 rounded-lg py-3 text-lg"},d(o),1)),64))]))}}),O=x(z,[["__scopeId","data-v-12aabfb9"]]),M=""+new URL("mango-no-bg.BdUOnNFj.png",import.meta.url).href,A=""+new URL("mango-dry-no-bg.7onfqxkb.png",import.meta.url).href,C=S("product",()=>{const u=v("fruit"),t=v(0),n=B([{name:"愛文芒果",img:L,imgNoBg:M,producer:"植宇宙小夥伴的父母",area:"台南市六甲區",intro:"愛文芒果是台灣特有的品種，果實呈現橙黃色，果肉細緻多汁，甜度高，香氣濃郁，口感極佳，是台灣最受歡迎的水果之一。",unit:[{unitName:"箱 / 10斤",price:600,quantity:0},{unitName:"箱 / 20斤",price:1200,quantity:0}]},{name:"芒果乾",img:Q,imgNoBg:A,producer:"植宇宙小夥伴的父母",area:"台南市六甲區",intro:"愛文芒果乾是將愛文芒果去皮、切片、風乾而成，不添加任何防腐劑，保留芒果原有的風味，口感酥脆，是台灣最受歡迎的水果零食之一。",unit:[{unitName:"包 / 250克",price:250,quantity:0},{unitName:"包 / 500克",price:450,quantity:0}]}]);return{currentCategory:u,currentIndex:t,fruitProducts:n,setQuantity:(o,i)=>{i?n[t.value].unit[o].quantity++:n[t.value].unit[o].quantity>0&&n[t.value].unit[o].quantity--}}}),G={class:"product-img-container relative h-full w-full"},H=["src"],J={class:"product-img-btn-group absolute bottom-16 left-0 flex w-full justify-center gap-5"},K=["onClick"],W=["src"],X=y({__name:"productImg",setup(u){const t=C(),{currentIndex:n}=k(t),c=v(0),o=v(!1),i=v(!1);function l(a){a!==c.value&&(o.value=!0,c.value=a,setTimeout(()=>{i.value=!0},500))}function m(){o.value&&(o.value=!1),i.value&&(i.value=!1)}return j(c,a=>{n.value=a}),(a,r)=>(p(),_("div",G,[s("img",{src:e(t).fruitProducts[e(c)].imgNoBg,alt:"product-img",class:P(["product-img absolute left-0 top-0",{leaving:e(o),entering:e(i)}]),onTransitionend:m},null,42,H),s("div",J,[(p(!0),_(I,null,N(e(t).fruitProducts,(f,g)=>(p(),_("button",{key:g,class:P(["product-img-btn p-4",{active:e(c)===g}]),onClick:vt=>l(g)},[s("img",{src:f.img,alt:"product-img",class:"product-img-shortcut size-24 rounded-xl"},null,8,W)],10,K))),128))])]))}}),Y=x(X,[["__scopeId","data-v-7e988c80"]]),$=u=>(V("data-v-64c472fe"),u=u(),E(),u),Z={class:"product-info-container flex h-full w-full flex-col items-center justify-center"},tt={class:"product-info-text w-3/4"},et={class:"title mb-7 text-5xl font-extrabold"},st=$(()=>s("p",{class:"text-lime-600"},"生產人：",-1)),nt={class:"mb-5 text-lg"},ot=$(()=>s("p",{class:"text-lime-600"},"產地：",-1)),ct={class:"mb-5 text-lg"},at=$(()=>s("p",{class:"text-lime-600"},"介紹：",-1)),rt={class:"mb-5 text-lg"},it={class:"product-info-unit w-full"},ut={class:"flex w-1/3 items-center justify-between"},lt=y({__name:"productInfo",setup(u){const t=C(),{currentIndex:n}=k(t),c=F(),o=b.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:l=>{l.onmouseenter=b.stopTimer,l.onmouseleave=b.resumeTimer}}),i=(l,m)=>{const a=B([]);l.forEach(r=>{if(r.quantity>0){const f={name:m,unitName:r.unitName,perPrice:r.price,quantity:r.quantity};a.push(f)}}),a.forEach(r=>{const f=c.cartData.products.findIndex(g=>g.name===r.name&&g.unitName===r.unitName);f!==-1?c.cartData.products[f].quantity=r.quantity:c.cartData.products.push(r)}),console.log(c.cartData.products),o.fire({icon:"success",title:"已加入購物車"})};return T(()=>{n.value=0,t.fruitProducts.forEach(l=>{l.unit.forEach(m=>{m.quantity=0})})}),(l,m)=>(p(),_("div",Z,[s("div",tt,[s("h2",et,d(e(t).fruitProducts[e(n)].name),1),st,s("p",nt,d(e(t).fruitProducts[e(n)].producer),1),ot,s("p",ct,d(e(t).fruitProducts[e(n)].area),1),at,s("p",rt,d(e(t).fruitProducts[e(n)].intro),1)]),s("div",it,[(p(!0),_(I,null,N(e(t).fruitProducts[e(n)].unit,(a,r)=>(p(),_("div",{key:a.unitName,class:"flex w-full items-center justify-between p-2"},[s("p",null,"規格"+d(r+1)+" - "+d(a.unitName),1),s("p",null,"價格："+d(a.price)+" 元",1),s("div",ut,[h(w,{density:"compact",icon:"mdi-minus",onClick:f=>e(t).setQuantity(r,!1)},null,8,["onClick"]),s("p",null,d(a.quantity),1),h(w,{density:"compact",icon:"mdi-plus",onClick:f=>e(t).setQuantity(r,!0)},null,8,["onClick"])])]))),128))]),h(w,{"prepend-icon":"mdi-cart-variant",class:"mt-10",onClick:m[0]||(m[0]=a=>i(e(t).fruitProducts[e(n)].unit,e(t).fruitProducts[e(n)].name))},{prepend:q(()=>[h(R,{color:"success"})]),default:q(()=>[D(" 加入購物車 ")]),_:1})]))}}),dt=x(lt,[["__scopeId","data-v-64c472fe"]]),pt={class:"shop-container flex h-full w-full items-center"},_t={class:"shop-sub-container ml-5 flex w-11/12 justify-around"},mt={class:"shop-category h-full w-2/12"},ft={class:"shop-products h-full w-5/12"},ht={class:"shop-detail h-full w-5/12"},gt=y({__name:"shop",setup(u){return(t,n)=>{const c=O,o=Y,i=dt;return p(),_("div",pt,[s("div",_t,[s("div",mt,[h(c)]),s("div",ft,[h(o)]),s("div",ht,[h(i)])])])}}}),It=x(gt,[["__scopeId","data-v-582cd736"]]);export{It as default};
